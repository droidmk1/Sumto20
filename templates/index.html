<!DOCTYPE html>
<html>
<head>
    <link rel="icon" href="../images/icon/icon.png" sizes="32x32">
    <link rel="stylesheet" href="../static/css/main.css">
    <!-- <link rel="stylesheet" href="{{ url_for('static', filename='css/main.css') }}"> -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
    <title>Lobby</title>
</head>
<body>
    <h1>Sum to 20</h1>

    <form id="join-form">
        <input type="text" id="room" placeholder="Room Number">
        <input type="text" id="username" placeholder="Username">
        <button type="submit">Join</button>
    </form>

    <script>
        document.addEventListener("DOMContentLoaded", function() {
            // Genera un código único de 6 dígitos al cargar la página
            var uniqueCode = generateUniqueCode();
            document.getElementById('room').value = uniqueCode; // Muestra el código en el campo de número de sala
        });

        function generateUniqueCode() {
            var code = Math.floor(100000 + Math.random() * 900000); // Genera un número aleatorio de 6 dígitos
            return code.toString(); // Convierte el número en una cadena
        }

        document.getElementById('join-form').onsubmit = function(e) {
            e.preventDefault();
            var room = document.getElementById('room').value;
            var username = document.getElementById('username').value;

            if (room && username) {
                // Redirige a la sala de chat con el número de sala y el nombre de usuario.
                window.location.href = room + '/' + username;
            } else {
                alert('You must provide a room number and username.');
            }
        };
    </script>
</body>
</html>
